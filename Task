import smbus2
import time

# Define BH1750 sensor address
BH1750_ADDR = 0x23

# Create an instance of the I2C bus
bus = smbus2.SMBus(1)  # Use 0 for older Raspberry Pi models

# Function to read data from the BH1750 sensor
def read_light_intensity():
    data = bus.read_i2c_block_data(BH1750_ADDR, 0x20)
    light_level = int.from_bytes(data, byteorder='big')
    return light_level

try:
    while True:
        light_level = read_light_intensity()

        if light_level > 15000:
            print("Too Bright")
        elif light_level > 5000:
            print("Bright")
        elif light_level > 2000:
            print("Medium")
        elif light_level > 500:
            print("Dark")
        else:
            print("Too Dark")

        time.sleep(1)  # Read data every 1 second

except KeyboardInterrupt:
    pass

finally:
    print("Exiting...")
